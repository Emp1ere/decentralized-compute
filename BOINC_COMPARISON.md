# Сравнение с BOINC

Проект [BOINC](https://github.com/BOINC/boinc) — платформа добровольных распределённых вычислений. Ниже — соответствие терминов и решений нашему проекту и отличия из‑за использования блокчейна.

## Термины: соответствие BOINC

| BOINC | Наш проект | Пояснение |
|-------|------------|-----------|
| **Workunit (WU)** | Задача (task) / контракт | Единица работы: что нужно вычислить |
| **Result** (запрос работы) | Запрос `GET /get_task` | Хост запрашивает работу; в BOINC — «enough work for X seconds» |
| **Result** (готовый результат) | `POST /submit_work` + `work_receipt` в блоке | Выполненная работа и её учёт |
| **Validator** | `contract.verify()` в `contracts.py` | Проверка корректности результата на сервере |
| **Assimilator** | Создание блока с `reward` и `work_receipt` в `submit_work` | Обработка верифицированных результатов (начисление, учёт) |
| **Credit** | Баланс (токены) в блокчейне | Учёт вклада вычислителя; у нас — крипто-награды в цепочке |
| **Replication** | Нет (один результат на доказательство) | BOINC: N копий задания, валидация по большинству; у нас — одна сдача с криптографической верификацией |

## Распределение работы (Work Distribution)

- **BOINC:** планировщик по запросу хоста выдаёт «работу на X секунд», фильтруя по версии приложения, ресурсам, задержке, квотам, политике «один результат на пользователя на workunit».
- **У нас:** `GET /get_task` возвращает одну задачу (спецификацию контракта). Опционально можно передать `contract_id`. Ограничение по частоте (rate limit) защищает от злоупотреблений. При необходимости можно расширить API (например, параметр `max_tasks` или `duration_sec`) по аналогии с BOINC.

## Верификация (Validation)

- **BOINC:** для каждого приложения нужны validator (корректность результата) и assimilator (обработка после валидации). Варианты: без репликации, репликация (большинство из N), нечёткое сравнение, однородная репликация, адаптивная репликация.
- **У нас:** один проход верификации:
  - **Validator:** `BaseContract.verify()` — проверка объёма работы, типа контракта и криптографического доказательства (nonce + детерминированный пересчёт для астро-задач или PoW).
  - **Assimilator:** после успешной верификации создаётся блок с транзакцией `reward` и `work_receipt`; баланс и цепочка обновляются, повторное использование того же доказательства запрещено (replay protection).

То есть наша схема ближе к варианту BOINC «no replication» с жёсткой приложенческой проверкой (deterministic verification), а не к репликации по большинству.

## Кредиты (Credit) и мотивация

- **BOINC:** кредиты начисляются волонтёрам/хостам/командам; учитывается реальная трудоёмкость; лидерборды и соревнование.
- **У нас:** награда в токенах за верифицированную работу фиксируется в блокчейне; баланс = сумма начислений минус комиссии; неизменяемая история (work_receipt) и возможность аудита. Мотивация — крипто-вознаграждение и прозрачность, а не только «очки».

## Отличия из‑за блокчейна

1. **Неподделываемость и replay:** один и тот же `result_data` (доказательство) не может быть принят дважды; используется `get_used_proof_ids()` в блокчейне. Аналог политики BOINC «один результат на пользователя на workunit», но привязан к криптографическому доказательству.
2. **Консенсус и лидер:** у нас узел, принявший `submit_work`, сам создаёт блок и пушит пиру; награда гарантированно попадает в цепочку. BOINC не использует блокчейн — централизованный сервер.
3. **Прозрачность:** все награды и work_receipt хранятся в цепочке; балансы выводятся из неё. В BOINC учёт кредитов ведётся в БД проекта.
4. **Комиссия:** в нашей модели есть `FEE_PER_WORK_RECEIPT` (сжигание/учёт в блоке); в BOINC комиссий за результат нет.

## Рекомендации по коду

- В комментариях в `app.py` и `contracts.py` указано соответствие: validator = `verify()`, assimilator = создание блока при `submit_work`.
- Логику распределения работы (одна задача за запрос) при необходимости можно расширить по образцу BOINC (пакеты задач или «работа на N секунд»), сохраняя текущую схему верификации и блокчейна.

## Ссылки

- [BOINC — GitHub](https://github.com/BOINC/boinc)
- [Work Distribution (BOINC)](https://boinc.berkeley.edu/trac/wiki/WorkDistribution)
- [Validation Summary (BOINC)](https://boinc.berkeley.edu/trac/wiki/ValidationSummary)
